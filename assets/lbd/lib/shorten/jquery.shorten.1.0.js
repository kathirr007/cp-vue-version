!function(l){l.fn.shorten=function(s){var a={showChars:100,ellipsesText:"...",moreText:"more",lessText:"less"};return s&&l.extend(a,s),l(document).off("click",".morelink"),l(document).on({click:function(){var s=l(this);return s.hasClass("less")?(s.removeClass("less"),s.html(a.moreText)):(s.addClass("less"),s.html(a.lessText)),s.parent().prev().toggle(),s.prev().toggle(),!1}},".morelink"),this.each(function(){var s=l(this);if(!s.hasClass("shortened")){s.addClass("shortened");var e=s.html();if(e.length>a.showChars){var t=e.substr(0,a.showChars),n=e.substr(a.showChars,e.length-a.showChars),r=t+'<span class="moreellipses">'+a.ellipsesText+' </span><span class="morecontent"><span>'+n+'</span> <a href="#" class="morelink">'+a.moreText+"</a></span>";s.html(r),l(".morecontent span").hide()}}})}}(jQuery);