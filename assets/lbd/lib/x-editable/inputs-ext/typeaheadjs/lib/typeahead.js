!function(c){var t,r,h={isMsie:function(){var t=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return!!t&&parseInt(t[2],10)},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:c.isArray,isFunction:c.isFunction,isObject:c.isPlainObject,isUndefined:function(t){return void 0===t},bind:c.proxy,bindAll:function(t){var e;for(var i in t)c.isFunction(e=t[i])&&(t[i]=c.proxy(e,t))},indexOf:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},each:c.each,map:c.map,filter:c.grep,every:function(i,n){var s=!0;return i?(c.each(i,function(t,e){if(!(s=n.call(null,e,t,i)))return!1}),!!s):s},some:function(i,n){var s=!1;return i?(c.each(i,function(t,e){if(s=n.call(null,e,t,i))return!1}),!!s):s},mixin:c.extend,getUniqueId:(t=0,function(){return t++}),defer:function(t){setTimeout(t,0)},debounce:function(s,r,o){var a,u;return function(){var t,e,i=this,n=arguments;return t=function(){a=null,o||(u=s.apply(i,n))},e=o&&!a,clearTimeout(a),a=setTimeout(t,r),e&&(u=s.apply(i,n)),u}},throttle:function(i,n){var s,r,o,a,u,c;return u=0,c=function(){u=new Date,o=null,a=i.apply(s,r)},function(){var t=new Date,e=n-(t-u);return s=this,r=arguments,e<=0?(clearTimeout(o),o=null,u=t,a=i.apply(s,r)):o||(o=setTimeout(c,e)),a}},tokenizeQuery:function(t){return c.trim(t).toLowerCase().split(/[\s]+/)},tokenizeText:function(t){return c.trim(t).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},e=(r=/\s+/,{on:function(t,e){var i;if(!e)return this;for(this._callbacks=this._callbacks||{},t=t.split(r);i=t.shift();)this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push(e);return this},trigger:function(t,e){var i,n;if(!this._callbacks)return this;for(t=t.split(r);i=t.shift();)if(n=this._callbacks[i])for(var s=0;s<n.length;s+=1)n[s].call(this,{type:i,data:e});return this}}),s=(h.mixin(i.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+t,e)}}),i);function i(t){t&&t.el||c.error("EventBus initialized without el"),this.$el=c(t.el)}var n=function(){var s,t;try{(s=window.localStorage).setItem("~~~","!"),s.removeItem("~~~")}catch(t){s=null}function e(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}return t=s&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),i(s.getItem(this._prefix(t)))},set:function(t,e,i){return h.isNumber(i)?s.setItem(this._ttlKey(t),r(n()+i)):s.removeItem(this._ttlKey(t)),s.setItem(this._prefix(t),r(e))},remove:function(t){return s.removeItem(this._ttlKey(t)),s.removeItem(this._prefix(t)),this},clear:function(){var t,e,i=[],n=s.length;for(t=0;t<n;t++)(e=s.key(t)).match(this.keyMatcher)&&i.push(e.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(t){var e=i(s.getItem(this._ttlKey(t)));return!!(h.isNumber(e)&&n()>e)}}:{get:h.noop,set:h.noop,remove:h.noop,clear:h.noop,isExpired:h.noop},h.mixin(e.prototype,t),e;function n(){return(new Date).getTime()}function r(t){return JSON.stringify(h.isUndefined(t)?null:t)}function i(t){return JSON.parse(t)}}(),o=(h.mixin(a.prototype,{get:function(t){return this.cache[t]},set:function(t,e){var i;this.cachedKeysByAge.length===this.sizeLimit&&(i=this.cachedKeysByAge.shift(),delete this.cache[i]),this.cache[t]=e,this.cachedKeysByAge.push(t)}}),a);function a(t){h.bindAll(this),t=t||{},this.sizeLimit=t.sizeLimit||10,this.cache={},this.cachedKeysByAge=[]}var u,l,d,p,g=(d=0,p={},h.mixin(f.prototype,{_get:function(i,n){var s=this;d<u?this._sendRequest(i).done(function(t){var e=s.filter?s.filter(t):t;n&&n(e),l.set(i,t)}):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(t){var e=this,i=p[t];return i||(d++,i=p[t]=c.ajax(t,this.ajaxSettings).always(function(){d--,p[t]=null,e.onDeckRequestArgs&&(e._get.apply(e,e.onDeckRequestArgs),e.onDeckRequestArgs=null)})),i},get:function(t,e){var i,n,s=this,r=encodeURIComponent(t||"");return e=e||h.noop,i=this.replace?this.replace(this.url,r):this.url.replace(this.wildcard,r),(n=l.get(i))?h.defer(function(){e(s.filter?s.filter(n):n)}):this._get(i,e),!!n}}),f);function f(t){h.bindAll(this),t=h.isString(t)?{url:t}:t,l=l||new o,u=h.isNumber(t.maxParallelRequests)?t.maxParallelRequests:u||6,this.url=t.url,this.wildcard=t.wildcard||"%QUERY",this.filter=t.filter,this.replace=t.replace,this.ajaxSettings={type:"get",cache:t.cache,timeout:t.timeout,dataType:t.dataType||"json",beforeSend:t.beforeSend},this._get=(/^throttle$/i.test(t.rateLimitFn)?h.throttle:h.debounce)(this._get,t.rateLimitWait||300)}var m,y,v,w,_=(m="thumbprint",y="protocol",v="itemHash",w="adjacencyList",h.mixin(b.prototype,{_processLocalData:function(t){this._mergeProcessedData(this._processData(t))},_loadPrefetchData:function(r){var t,e,i,n,s,o=this,a="0.9.3"+(r.thumbprint||"");return this.storage&&(t=this.storage.get(m),e=this.storage.get(y),i=this.storage.get(v),n=this.storage.get(w)),s=t!==a||e!==h.getProtocol(),(r=h.isString(r)?{url:r}:r).ttl=h.isNumber(r.ttl)?r.ttl:864e5,i&&n&&!s?(this._mergeProcessedData({itemHash:i,adjacencyList:n}),c.Deferred().resolve()):c.getJSON(r.url).done(function(t){var e=r.filter?r.filter(t):t,i=o._processData(e),n=i.itemHash,s=i.adjacencyList;o.storage&&(o.storage.set(v,n,r.ttl),o.storage.set(w,s,r.ttl),o.storage.set(m,a,r.ttl),o.storage.set(y,h.getProtocol(),r.ttl)),o._mergeProcessedData(i)})},_transformDatum:function(t){var e=h.isString(t)?t:t[this.valueKey],i={value:e,tokens:t.tokens||h.tokenizeText(e)};return h.isString(t)?(i.datum={},i.datum[this.valueKey]=t):i.datum=t,i.tokens=h.filter(i.tokens,function(t){return!h.isBlankString(t)}),i.tokens=h.map(i.tokens,function(t){return t.toLowerCase()}),i},_processData:function(t){var n=this,r={},o={};return h.each(t,function(t,e){var i=n._transformDatum(e),s=h.getUniqueId(i.value);r[s]=i,h.each(i.tokens,function(t,e){var i=e.charAt(0),n=o[i]||(o[i]=[s]);~h.indexOf(n,s)||n.push(s)})}),{itemHash:r,adjacencyList:o}},_mergeProcessedData:function(t){var n=this;h.mixin(this.itemHash,t.itemHash),h.each(t.adjacencyList,function(t,e){var i=n.adjacencyList[t];n.adjacencyList[t]=i?i.concat(e):e})},_getLocalSuggestions:function(n){var s,r=this,o=[],a=[],u=[];return h.each(n,function(t,e){var i=e.charAt(0);~h.indexOf(o,i)||o.push(i)}),h.each(o,function(t,e){var i=r.adjacencyList[e];if(!i)return!1;a.push(i),(!s||i.length<s.length)&&(s=i)}),a.length<o.length?[]:(h.each(s,function(t,e){var i=r.itemHash[e];h.every(a,function(t){return~h.indexOf(t,e)})&&h.every(n,function(e){return h.some(i.tokens,function(t){return 0===t.indexOf(e)})})&&u.push(i)}),u)},initialize:function(){var t;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new g(this.remote):null,t=this.prefetch?this._loadPrefetchData(this.prefetch):c.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return t},t},getSuggestions:function(t,e){var i,n,s=this,r=!1;t.length<this.minLength||(i=h.tokenizeQuery(t),(n=this._getLocalSuggestions(i).slice(0,this.limit)).length<this.limit&&this.transport&&(r=this.transport.get(t,function(t){n=n.slice(0),h.each(t,function(t,e){var i=s._transformDatum(e);return h.some(n,function(t){return i.value===t.value})||n.push(i),n.length<s.limit}),e&&e(n)})),!r&&e&&e(n))}}),b);function b(t){h.bindAll(this),h.isString(t.template)&&!t.engine&&c.error("no template engine specified"),t.local||t.prefetch||t.remote||c.error("one of local, prefetch, or remote is required"),this.name=t.name||h.getUniqueId(),this.limit=t.limit||5,this.minLength=t.minLength||1,this.header=t.header,this.footer=t.footer,this.valueKey=t.valueKey||"value",this.template=function(t,e,i){var n,s;n=h.isFunction(t)?t:h.isString(t)?(s=e.compile(t),h.bind(s.render,s)):function(t){return"<p>"+t[i]+"</p>"};return n}(t.template,t.engine,this.valueKey),this.local=t.local,this.prefetch=t.prefetch,this.remote=t.remote,this.itemHash={},this.adjacencyList={},this.storage=t.name?new n(t.name):null}var V=(h.mixin(S.prototype,e,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(t){var e=this.specialKeyCodeMap[t.which||t.keyCode];e&&this.trigger(e+"Keyed",t)},_compareQueryToInputValue:function(){var t=this.getInputValue(),e=function(t,e){return t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),e=(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),t===e}(this.query,t);e&&this.query.length!==t.length?this.trigger("whitespaceChanged",{value:this.query}):e||this.trigger("queryChanged",{value:this.query=t})},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e||this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(t){this.$hint.val(t)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var t,e=this.$input.val().length,i=this.$input[0].selectionStart;return h.isNumber(i)?i===e:!document.selection||((t=document.selection.createRange()).moveStart("character",-e),e===t.text.length)}}),S);function S(t){var e=this;h.bindAll(this),this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},this.$hint=c(t.hint),this.$input=c(t.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent),h.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){e.specialKeyCodeMap[t.which||t.keyCode]||h.defer(e._compareQueryToInputValue)}):this.$input.on("input.tt",this._compareQueryToInputValue),this.query=this.$input.val(),this.$overflowHelper=function(t){return c("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}(this.$input)}var k,A,x,$,D=(k='<span class="tt-suggestions"></span>',A={display:"block"},x={whiteSpace:"nowrap",cursor:"pointer"},$={whiteSpace:"normal"},h.mixin(C.prototype,e,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(t){var e=c(t.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor"),e.addClass("tt-is-under-cursor")},_handleSelection:function(t){var e=c(t.currentTarget);this.trigger("suggestionSelected",K(e))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(t){var e,i,n,s;this.isVisible()&&((i=(e=this._getSuggestions()).filter(".tt-is-under-cursor")).removeClass("tt-is-under-cursor"),-1!=(n=((n=e.index(i)+t)+1)%(e.length+1)-1)?(n<-1&&(n=e.length-1),s=e.eq(n).addClass("tt-is-under-cursor"),this._ensureVisibility(s),this.trigger("cursorMoved",K(s))):this.trigger("cursorRemoved"))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(t){var e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),i=this.$menu.scrollTop(),n=t.position().top,s=n+t.outerHeight(!0);n<0?this.$menu.scrollTop(i+n):e<s&&this.$menu.scrollTop(i+(s-e))},destroy:function(){this.$menu.off(".tt"),this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(t){"ltr"===t?this.$menu.css({left:"0",right:"auto"}):this.$menu.css({left:"auto",right:" 0"})},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var t=this._getSuggestions().filter(".tt-is-under-cursor").first();return 0<t.length?K(t):null},getFirstSuggestion:function(){var t=this._getSuggestions().first();return 0<t.length?K(t):null},renderSuggestions:function(i,t){var n,e,s,r,o,a="tt-dataset-"+i.name,u=this.$menu.find("."+a);0===u.length&&(e=c(k).css(A),u=c("<div></div>").addClass(a).append(i.header).append(e).append(i.footer).appendTo(this.$menu)),0<t.length?(this.isEmpty=!1,this.isOpen&&this._show(),s=document.createElement("div"),r=document.createDocumentFragment(),h.each(t,function(t,e){e.dataset=i.name,n=i.template(e.datum),s.innerHTML='<div class="tt-suggestion">%body</div>'.replace("%body",n),(o=c(s.firstChild).css(x).data("suggestion",e)).children().each(function(){c(this).css($)}),r.appendChild(o[0])}),u.show().find(".tt-suggestions").html(r)):this.clearSuggestions(i.name),this.trigger("suggestionsRendered")},clearSuggestions:function(t){var e=t?this.$menu.find(".tt-dataset-"+t):this.$menu.find('[class^="tt-dataset-"]'),i=e.find(".tt-suggestions");e.hide(),i.empty(),0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}}),C);function C(t){h.bindAll(this),this.isOpen=!1,this.isEmpty=!0,this.isMouseOverDropdown=!1,this.$menu=c(t.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}function K(t){return t.data("suggestion")}var I,q,L,H,T,M=(I={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},q={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}},h.isMsie()&&h.mixin(q.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),h.isMsie()&&h.isMsie()<=7&&(h.mixin(q.wrapper,{display:"inline",zoom:"1"}),h.mixin(q.query,{marginTop:"-1px"})),h.mixin(O.prototype,e,{_managePreventDefault:function(t){var e,i,n=t.data,s=!1;switch(t.type){case"tabKeyed":e=this.inputView.getHintValue(),i=this.inputView.getInputValue(),s=e&&e!==i;break;case"upKeyed":case"downKeyed":s=!n.shiftKey&&!n.ctrlKey&&!n.metaKey}s&&n.preventDefault()},_setLanguageDirection:function(){var t=this.inputView.getLanguageDirection();t!==this.dir&&(this.dir=t,this.$node.css("direction",t),this.dropdownView.setLanguageDirection(t))},_updateHint:function(){var t,e,i,n,s=this.dropdownView.getFirstSuggestion(),r=s?s.value:null,o=this.dropdownView.isVisible(),a=this.inputView.isOverflow();r&&o&&!a&&(e=(t=this.inputView.getInputValue()).replace(/\s{2,}/g," ").replace(/^\s+/g,""),i=h.escapeRegExChars(e),n=new RegExp("^(?:"+i+")(.*$)","i").exec(r),this.inputView.setHintValue(t+(n?n[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(t){var e=t.data;this.inputView.setInputValue(e.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(t){this.dropdownView["blured"===t.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(t){var e=t.data;e.shiftKey||e.ctrlKey||e.metaKey||this.dropdownView["upKeyed"===t.type?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(t){var e="suggestionSelected"===t.type,i=e?t.data:this.dropdownView.getSuggestionUnderCursor();i&&(this.inputView.setInputValue(i.value),e?this.inputView.focus():t.data.preventDefault(),e&&h.isMsie()?h.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",i.datum,i.dataset))},_getSuggestions:function(){var i=this,n=this.inputView.getQuery();h.isBlankString(n)||h.each(this.datasets,function(t,e){e.getSuggestions(n,function(t){n===i.inputView.getQuery()&&i.dropdownView.renderSuggestions(e,t)})})},_autocomplete:function(t){var e,i,n,s,r;("rightKeyed"!==t.type&&"leftKeyed"!==t.type||(e=this.inputView.isCursorAtEnd(),i="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===t.type:"rightKeyed"===t.type,e&&!i))&&(n=this.inputView.getQuery(),""!==(s=this.inputView.getHintValue())&&n!==s&&(r=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.datum,r.dataset)))},_propagateEvent:function(t){this.eventBus.trigger(t.type)},destroy:function(){this.inputView.destroy(),this.dropdownView.destroy(),function(t){var i=t.find(".tt-query");h.each(i.data("ttAttrs"),function(t,e){h.isUndefined(e)?i.removeAttr(t):i.attr(t,e)}),i.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(t),t.remove()}(this.$node),this.$node=null},setQuery:function(t){this.inputView.setQuery(t),this.inputView.setInputValue(t),this._clearHint(),this._clearSuggestions(),this._getSuggestions()}}),O);function O(t){var e,i,n;h.bindAll(this),this.$node=function(t){var e=c(I.wrapper),i=c(I.dropdown),n=c(t),s=c(I.hint);e=e.css(q.wrapper),i=i.css(q.dropdown),s.css(q.hint).css({backgroundAttachment:n.css("background-attachment"),backgroundClip:n.css("background-clip"),backgroundColor:n.css("background-color"),backgroundImage:n.css("background-image"),backgroundOrigin:n.css("background-origin"),backgroundPosition:n.css("background-position"),backgroundRepeat:n.css("background-repeat"),backgroundSize:n.css("background-size")}),n.data("ttAttrs",{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")}),n.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(q.query);try{n.attr("dir")||n.attr("dir","auto")}catch(t){}return n.wrap(e).parent().prepend(s).append(i)}(t.input),this.datasets=t.datasets,this.dir=null,this.eventBus=t.eventBus,e=this.$node.find(".tt-dropdown-menu"),i=this.$node.find(".tt-query"),n=this.$node.find(".tt-hint"),this.dropdownView=new D({menu:e}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent),this.inputView=new V({input:i,hint:n}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}H={},T="ttView",L={initialize:function(t){var n;return 0===(t=h.isArray(t)?t:[t]).length&&c.error("no datasets provided"),n=h.map(t,function(t){var e=H[t.name]?H[t.name]:new _(t);return t.name&&(H[t.name]=e),e}),this.each(function(){var t,e=c(this),i=new s({el:e});t=h.map(n,function(t){return t.initialize()}),e.data(T,new M({input:e,eventBus:i=new s({el:e}),datasets:n})),c.when.apply(c,t).always(function(){h.defer(function(){i.trigger("initialized")})})})},destroy:function(){return this.each(function(){var t=c(this),e=t.data(T);e&&(e.destroy(),t.removeData(T))})},setQuery:function(e){return this.each(function(){var t=c(this).data(T);t&&t.setQuery(e)})}},jQuery.fn.typeahead=function(t){return L[t]?L[t].apply(this,[].slice.call(arguments,1)):L.initialize.apply(this,arguments)}}(window.jQuery);