tinymce.PluginManager.add("fullscreen",function(s){function e(){function e(){m.setStyle(i,"height",function(){var e,t,n=window,i=document.body;return i.offsetWidth&&(e=i.offsetWidth,t=i.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}}().h-(n.clientHeight-i.clientHeight))}var t,n,i,l,c=document.body,o=document.documentElement;f=!f,t=(n=s.getContainer()).style,l=(i=s.getContentAreaContainer().firstChild).style,f?(r=l.width,d=l.height,l.width=l.height="100%",a=t.width,h=t.height,t.width=t.height="",m.addClass(c,"mce-fullscreen"),m.addClass(o,"mce-fullscreen"),m.addClass(n,"mce-fullscreen"),m.bind(window,"resize",e),e(),u=e):(l.width=r,l.height=d,a&&(t.width=a),h&&(t.height=h),m.removeClass(c,"mce-fullscreen"),m.removeClass(o,"mce-fullscreen"),m.removeClass(n,"mce-fullscreen"),m.unbind(window,"resize",u)),s.fire("FullscreenStateChanged",{state:f})}var r,d,u,a,h,f=!1,m=tinymce.DOM;return s.settings.inline?void 0:(s.on("init",function(){s.addShortcut("Meta+Alt+F","",e)}),s.on("remove",function(){u&&m.unbind(window,"resize",u)}),s.addCommand("mceFullScreen",e),s.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Meta+Alt+F",selectable:!0,onClick:e,onPostRender:function(){var t=this;s.on("FullscreenStateChanged",function(e){t.active(e.state)})},context:"view"}),s.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Meta+Alt+F",onClick:e,onPostRender:function(){var t=this;s.on("FullscreenStateChanged",function(e){t.active(e.state)})}}),{isFullscreen:function(){return f}})});