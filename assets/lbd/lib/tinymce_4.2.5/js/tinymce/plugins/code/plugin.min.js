tinymce.PluginManager.add("code",function(o){function e(){o.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:o.getParam("code_dialog_width",600),minHeight:o.getParam("code_dialog_height",Math.min(tinymce.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){o.focus(),o.undoManager.transact(function(){o.setContent(e.data.code)}),o.selection.setCursorLocation(),o.nodeChanged()}}).find("#code").value(o.getContent({source_view:!0}))}o.addCommand("mceCodeEditor",e),o.addButton("code",{icon:"code",tooltip:"Source code",onclick:e}),o.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:e})});