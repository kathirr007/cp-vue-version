!function(l,A){"use strict";function e(e,t,n){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(t===A)throw"invalid module definition, dependencies must be specified";if(n===A)throw"invalid module definition, definition function must be specified";!function(e,t){for(var n,o=[],l=0;l<e.length;++l){if(!(n=r[e[l]]||a(e[l])))throw"module definition dependecy not found: "+e[l];o.push(n)}t.apply(null,o)}(t,function(){r[e]=n.apply(null,arguments)})}function a(e){for(var t=l,n=e.split(/[.\/]/),o=0;o<n.length;++o){if(!t[n[o]])return;t=t[n[o]]}return t}var r={};e("tinymce/tableplugin/Utils",["tinymce/Env"],function(t){return{getSpanVal:function(e,t){return parseInt(e.getAttribute(t)||1,10)},paddCell:function(e){(!t.ie||10<t.ie)&&(e.innerHTML='<br data-mce-bogus="1" />')}}}),e("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils"],function(R,f,t){var N=R.each,P=t.getSpanVal;return function(e,o){function g(){var t=0;w=[],c=0,N(["thead","tbody","tfoot"],function(i){var e=T.select("> "+i+" tr",o);N(e,function(e,r){r+=t,N(T.select("> td, > th",e),function(e,t){var n,o,l,a;if(w[r])for(;w[r][t];)t++;for(l=P(e,"rowspan"),a=P(e,"colspan"),o=r;o<r+l;o++)for(w[o]||(w[o]=[]),n=t;n<t+a;n++)w[o][n]={part:i,real:o==r&&n==t,elm:e,rowspan:l,colspan:a};c=Math.max(c,t+1)})}),t+=e.length})}function d(e,t){return(e=e.cloneNode(t)).removeAttribute("id"),e}function p(e,t){var n;return(n=w[t])?n[e]:void 0}function b(e,t,n){e&&(1===(n=parseInt(n,10))?e.removeAttribute(t,1):e.setAttribute(t,n,1))}function h(e){return e&&(T.hasClass(e.elm,"mce-item-selected")||e==l)}function i(){var n=[];return N(o.rows,function(t){N(t.cells,function(e){return T.hasClass(e,"mce-item-selected")||l&&e==l.elm?(n.push(t),!1):void 0})}),n}function u(n){var o,l={};return!1!==e.settings.table_clone_elements&&(l=R.makeMap((e.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),R.walk(n,function(e){var t;return 3==e.nodeType?(N(T.getParents(e.parentNode,null,n).reverse(),function(e){l[e.nodeName]&&(e=d(e,!1),o?t&&t.appendChild(e):o=t=e,t=e)}),t&&(t.innerHTML=f.ie?"&nbsp;":'<br data-mce-bogus="1" />'),!1):void 0},"childNodes"),b(n=d(n,!1),"rowSpan",1),b(n,"colSpan",1),o?n.appendChild(o):t.paddCell(n),n}function v(){var e,t=T.createRng();return N(T.select("tr",o),function(e){0===e.cells.length&&T.remove(e)}),0===T.select("tr",o).length?(t.setStartBefore(o),t.setEndBefore(o),m.setRng(t),void T.remove(o)):(N(T.select("thead,tbody,tfoot",o),function(e){0===e.rows.length&&T.remove(e)}),g(),void(C&&((e=w[Math.min(w.length-1,C.y)])&&(m.select(e[Math.min(e.length-1,C.x)].elm,!0),m.collapse(!0)))))}function s(e,t,n,o){var l,a,r,i,s;for(l=w[t][e].elm.parentNode,r=1;r<=n;r++)if(l=T.getNext(l,"tr")){for(a=e;0<=a;a--)if((s=w[t+r][a].elm).parentNode==l){for(i=1;i<=o;i++)T.insertAfter(u(s),s);break}if(-1==a)for(i=1;i<=o;i++)l.insertBefore(u(l.cells[0]),l.cells[0])}}function y(){N(w,function(e,a){N(e,function(e,t){var n,o,l;if(h(e)&&(e=e.elm,n=P(e,"colspan"),o=P(e,"rowspan"),1<n||1<o)){for(b(e,"rowSpan",1),b(e,"colSpan",1),l=0;l<n-1;l++)T.insertAfter(u(e),e);s(t,a,o-1,n)}})})}function x(o){var l;return N(w,function(e,n){return N(e,function(e,t){return e.elm==o?!(l={x:t,y:n}):void 0}),!l}),l}var w,c,C,S,l,a,r,m=e.selection,T=m.dom;o=o||T.getParent(m.getStart(),"table"),g(),(l=T.getParent(m.getStart(),"th,td"))&&(C=x(l),a=r=0,N(w,function(e,l){N(e,function(e,t){var n,o;h(e)&&(e=w[l][t],a<t&&(a=t),r<l&&(r=l),e.real&&(n=e.colspan-1,o=e.rowspan-1,n&&a<t+n&&(a=t+n),o&&r<l+o&&(r=l+o)))})}),S={x:a,y:r},l=p(C.x,C.y)),R.extend(this,{deleteTable:function(){var e=T.createRng();e.setStartAfter(o),e.setEndAfter(o),m.setRng(e),T.remove(o)},split:y,merge:function(e,t,n){var o,l,a,r,i,s,c,d,u,m,f;if(e?(r=(l=(o=x(e)).x)+(t-1),i=(a=o.y)+(n-1)):(C=S=null,N(w,function(e,n){N(e,function(e,t){h(e)&&(C||(C={x:t,y:n}),S={x:t,y:n})})}),C&&(l=C.x,a=C.y,r=S.x,i=S.y)),d=p(l,a),u=p(r,i),d&&u&&d.part==u.part){for(y(),g(),b(d=p(l,a).elm,"colSpan",r-l+1),b(d,"rowSpan",i-a+1),c=a;c<=i;c++)for(s=l;s<=r;s++)w[c]&&w[c][s]&&(e=w[c][s].elm)!=d&&(m=R.grep(e.childNodes),N(m,function(e){d.appendChild(e)}),m.length&&(m=R.grep(d.childNodes),f=0,N(m,function(e){"BR"==e.nodeName&&T.getAttrib(e,"data-mce-bogus")&&f++<m.length-1&&d.removeChild(e)})),T.remove(e));v()}},insertRow:function(n){var o,e,t,l,a,r,i,s,c;if(N(w,function(e,t){return N(e,function(e){return(!h(e)||(e=e.elm,a=e.parentNode,r=d(a,!1),o=t,!n))&&void 0}),n?!o:void 0}),o!==A){for(l=0;l<w[0].length;l++)if(w[o][l]&&(e=w[o][l].elm)!=t){if(n){if(0<o&&w[o-1][l]&&(s=w[o-1][l].elm,1<(c=P(s,"rowSpan")))){b(s,"rowSpan",c+1);continue}}else if(1<(c=P(e,"rowspan"))){b(e,"rowSpan",c+1);continue}b(i=u(e),"colSpan",e.colSpan),r.appendChild(i),t=e}r.hasChildNodes()&&(n?a.parentNode.insertBefore(r,a):T.insertAfter(r,a))}},insertCol:function(a){var r,i;N(w,function(e){return N(e,function(e,t){return(!h(e)||(r=t,!a))&&void 0}),a?!r:void 0}),N(w,function(e,t){var n,o,l;!e[r]||(n=e[r].elm)!=i&&(l=P(n,"colspan"),o=P(n,"rowspan"),1==l?(a?n.parentNode.insertBefore(u(n),n):T.insertAfter(u(n),n),s(r,t,o-1,l)):b(n,"colSpan",n.colSpan+1),i=n)})},deleteCols:function(){var t=[];N(w,function(e){N(e,function(e,o){h(e)&&-1===R.inArray(t,o)&&(N(w,function(e){var t,n=e[o].elm;1<(t=P(n,"colSpan"))?b(n,"colSpan",t-1):T.remove(n)}),t.push(o))})}),v()},deleteRows:function(){var e;e=i(),N(e.reverse(),function(e){!function(e){var n,o;N(e.cells,function(e){var t=P(e,"rowSpan");1<t&&(b(e,"rowSpan",t-1),s((n=x(e)).x,n.y,1,1))}),n=x(e.cells[0]),N(w[n.y],function(e){var t;(e=e.elm)!=o&&((t=P(e,"rowSpan"))<=1?T.remove(e):b(e,"rowSpan",t-1),o=e)})}(e)}),v()},cutRows:function(){var e=i();return T.remove(e),v(),e},copyRows:function(){var n=i();return N(n,function(e,t){n[t]=d(e,!0)}),n},pasteRows:function(e,l){var t=i(),a=t[l?0:t.length-1],r=a.cells.length;e&&(N(w,function(e){var t;return r=0,N(e,function(e){e.real&&(r+=e.colspan),e.elm.parentNode==a&&(t=1)}),!t&&void 0}),l||e.reverse(),N(e,function(e){var t,n,o=e.cells.length;for(t=0;t<o;t++)b(n=e.cells[t],"colSpan",1),b(n,"rowSpan",1);for(t=o;t<r;t++)e.appendChild(u(e.cells[o-1]));for(t=r;t<o;t++)T.remove(e.cells[t]);l?a.parentNode.insertBefore(e,a):T.insertAfter(e,a)}),T.removeClass(T.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"))},getPos:x,setStartCell:function(e){C=x(e)},setEndCell:function(e){var t,n,o,l,a,r,i,s,c,d;if(S=x(e),C&&S){for(t=Math.min(C.x,S.x),n=Math.min(C.y,S.y),a=o=Math.max(C.x,S.x),r=l=Math.max(C.y,S.y),d=n;d<=r;d++)(e=w[d][t]).real||t-(e.colspan-1)<t&&(t-=e.colspan-1);for(c=t;c<=a;c++)(e=w[n][c]).real||n-(e.rowspan-1)<n&&(n-=e.rowspan-1);for(d=n;d<=l;d++)for(c=t;c<=o;c++)(e=w[d][c]).real&&((i=e.colspan-1)&&a<c+i&&(a=c+i),(s=e.rowspan-1)&&r<d+s&&(r=d+s));for(T.removeClass(T.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),d=n;d<=r;d++)for(c=t;c<=a;c++)w[d][c]&&T.addClass(w[d][c].elm,"mce-item-selected")}},moveRelIdx:function(e,t){var n,o,l;o=(n=x(e)).y*c+n.x;do{if(!(l=p((o+=t)%c,Math.floor(o/c))))break;if(l.elm!=e)return m.select(l.elm,!0),T.isEmpty(l.elm)&&m.collapse(!0),!0}while(l.elm==e);return!1},refresh:g})}}),e("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(i,l,s,c){var p=s.each,b=c.getSpanVal;return function(g){function e(){g.on("KeyDown",function(e){var t,n,o=g.dom;37!=e.keyCode&&38!=e.keyCode||(t=g.selection.getRng(),(n=o.getParent(t.startContainer,"table"))&&g.getBody().firstChild==n&&function(e,t){var n,o=t.ownerDocument,l=o.createRange();return l.setStartBefore(t),l.setEnd(e.endContainer,e.endOffset),(n=o.createElement("body")).appendChild(l.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}(t,n)&&((t=o.createRng()).setStartBefore(n),t.setEndBefore(n),g.selection.setRng(t),e.preventDefault()))})}function t(){g.on("KeyDown SetContent VisualAid",function(){var e;for(e=g.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(0<e.nodeValue.length)break}else if(1==e.nodeType&&("BR"==e.tagName||!e.getAttribute("data-mce-bogus")))break;e&&"TABLE"==e.nodeName&&(g.settings.forced_root_block?g.dom.add(g.getBody(),g.settings.forced_root_block,g.settings.forced_root_block_attrs,l.ie&&l.ie<11?"&nbsp;":'<br data-mce-bogus="1" />'):g.dom.add(g.getBody(),"br",{"data-mce-bogus":"1"}))}),g.on("PreProcess",function(e){var t=e.node.lastChild;t&&("BR"==t.nodeName||1==t.childNodes.length&&("BR"==t.firstChild.nodeName||" "==t.firstChild.nodeValue))&&t.previousSibling&&"TABLE"==t.previousSibling.nodeName&&g.dom.remove(t)})}function n(){var e=g.selection.getRng(),t=g.selection.getNode(),n=g.dom.getParent(e.startContainer,"TD,TH");if(function(e,t,n,o){var l,a,r,i=e.dom.getParent(t.startContainer,"TABLE");return i&&(l=i.parentNode),a=3==t.startContainer.nodeType&&0===t.startOffset&&0===t.endOffset&&o&&("TR"==n.nodeName||n==l),r=("TD"==n.nodeName||"TH"==n.nodeName)&&!o,a||r}(g,e,t,n)){n||(n=t);for(var o=n.lastChild;o.lastChild;)o=o.lastChild;3==o.nodeType&&(e.setEnd(o,o.data.length),g.selection.setRng(e))}}function o(c){function d(e,t){var n=e?"previousSibling":"nextSibling",o=g.dom.getParent(t,"tr"),l=o[n];if(l)return f(0,t,l,e),c.preventDefault(),!0;var a=g.dom.getParent(o,"table"),r=o.parentNode,i=r.nodeName.toLowerCase();if("tbody"===i||i===(e?"tfoot":"thead")){var s=function(e,t,n,o){var l=g.dom.select(">"+o,t),a=l.indexOf(n);if(e&&0===a||!e&&a===l.length-1)return function(e,t){var n=e?"thead":"tfoot",o=g.dom.select(">"+n,t);return 0!==o.length?o[0]:null}(e,t);if(-1!==a)return l[a+(e?-1:1)];var r="thead"===n.tagName.toLowerCase()?0:l.length-1;return l[r]}(e,a,r,"tbody");if(null!==s)return function(e,t,n){var o=u(t,e);return o&&f(0,n,o,e),c.preventDefault(),!0}(e,s,t)}return function(e,t,n,o){var l=o[n];if(l)return m(l),!0;var a=g.dom.getParent(o,"td,th");return a?d(e,a):(m(u(t,!e)),c.preventDefault(),!1)}(e,o,n,a)}function u(e,t){var n=e&&e[t?"lastChild":"firstChild"];return n&&"BR"===n.nodeName?g.dom.getParent(n,"td,th"):n}function m(e){g.selection.setCursorLocation(e,0)}function f(e,t,n,o){var l=function(e,n){var o=0,l=0;return p(e.children,function(e,t){return o+=b(e,"colspan"),l=t,!(n<o)&&void 0}),l}(n,function(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=b(n,"colspan");return t}(g.dom.getParent(t,"td,th"))),a=n.childNodes[l];m(u(a,o)||a)}function e(e){var t=g.selection.getNode(),n=g.dom.getParent(t,"td,th"),o=g.dom.getParent(e,"td,th");return n&&n!==o&&function(e,t){return g.dom.getParent(e,"TABLE")===g.dom.getParent(t,"TABLE")}(n,o)}var t,n,o=c.keyCode;if((o==i.UP||o==i.DOWN)&&(n=(t=g).selection.getNode(),null!==t.dom.getParent(n,"tr"))){var l=g.selection.getNode();setTimeout(function(){e(l)&&d(!c.shiftKey&&o===i.UP,l)},0)}}function a(e){g.selection.select(e,!0),g.selection.collapse(!0)}function r(e){g.$(e).empty(),c.paddCell(e)}g.on("keydown",function(e){var t,n,o,l;if((e.keyCode==i.DELETE||e.keyCode==i.BACKSPACE)&&!e.isDefaultPrevented()&&(t=g.dom.getParent(g.selection.getStart(),"table"))){if(n=g.dom.select("td,th",t),0===(o=s.grep(n,function(e){return g.dom.hasClass(e,"mce-item-selected")})).length)return l=g.dom.getParent(g.selection.getStart(),"td,th"),void(g.selection.isCollapsed()&&l&&g.dom.isEmpty(l)&&(e.preventDefault(),r(l),a(l)));e.preventDefault(),n.length==o.length?g.execCommand("mceTableDelete"):(s.each(o,r),a(o[0]))}}),l.webkit&&(g.on("KeyDown",function(e){o(e)}),g.on("KeyDown",function(){n()}),g.on("MouseDown",function(e){2!=e.button&&n()})),l.gecko&&(e(),t()),10<l.ie&&(e(),t())}}),e("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(r,m,f){return function(i){function t(e){i.getBody().style.webkitUserSelect="",(e||a)&&(i.dom.removeClass(i.dom.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),a=!1)}function e(e){var t,n,o=e.target;if(!l&&c&&(s||o!=c)&&("TD"==o.nodeName||"TH"==o.nodeName)){(n=u.getParent(o,"table"))==d&&(s||((s=new r(i,n)).setStartCell(c),i.getBody().style.webkitUserSelect="none"),s.setEndCell(o),a=!0),t=i.selection.getSel();try{t.removeAllRanges?t.removeAllRanges():t.empty()}catch(e){}e.preventDefault()}}var s,c,d,l,u=i.dom,a=!0;return i.on("MouseDown",function(e){2==e.button||l||(t(),c=u.getParent(e.target,"td,th"),d=u.getParent(c,"table"))}),i.on("mouseover",e),i.on("remove",function(){u.unbind(i.getDoc(),"mouseover",e)}),i.on("MouseUp",function(){function e(e,t){var n=new m(e,e);do{if(3==e.nodeType&&0!==f.trim(e.nodeValue).length)return void(t?o.setStart(e,0):o.setEnd(e,e.nodeValue.length));if("BR"==e.nodeName)return void(t?o.setStartBefore(e):o.setEndBefore(e))}while(e=t?n.next():n.prev())}var o,t,n,l,a,r=i.selection;if(c){if(s&&(i.getBody().style.webkitUserSelect=""),0<(t=u.select("td.mce-item-selected,th.mce-item-selected")).length){o=u.createRng(),l=t[0],o.setStartBefore(l),o.setEndAfter(l),e(l,1),n=new m(l,u.getParent(t[0],"table"));do{if("TD"==l.nodeName||"TH"==l.nodeName){if(!u.hasClass(l,"mce-item-selected"))break;a=l}}while(l=n.next());e(a),r.setRng(o)}i.nodeChanged(),c=s=d=null}}),i.on("KeyUp Drop SetContent",function(e){t("setcontent"==e.type),c=s=d=null,l=!1}),i.on("ObjectResizeStart ObjectResized",function(e){l="objectresized"!=e.type}),{clear:t}}}),e("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(y,x){var w=y.each;return function(u){function t(){var e=u.settings.color_picker_callback;return e?function(){var t=this;e.call(u,function(e){t.value(e).fire("change")},t.value())}:void 0}function m(e){return{title:"Advanced",type:"form",defaults:{onchange:function(){h(e,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:t()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:t()}]}]}}function f(e){return e?e.replace(/px$/,""):""}function g(e){return/^[0-9]+$/.test(e)&&(e+="px"),e}function p(t){w("left center right".split(" "),function(e){u.formatter.remove("align"+e,{},t)})}function b(e,l,t){return function n(e,o){return o=o||[],y.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=n(e.menu):(t.value=e.value,l&&l(t)),o.push(t)}),o}(e,t||[])}function h(e,t,n){var o=t.toJSON(),l=e.parseStyle(o.style);n?(t.find("#borderColor").value(l["border-color"]||"")[0].fire("change"),t.find("#backgroundColor").value(l["background-color"]||"")[0].fire("change")):(l["border-color"]=o.borderColor,l["background-color"]=o.backgroundColor),t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(l))))}function v(e,t,n){var o=e.parseStyle(e.getAttrib(n,"style"));o["border-color"]&&(t.borderColor=o["border-color"]),o["background-color"]&&(t.backgroundColor=o["background-color"]),t.style=e.serializeStyle(o)}var e=this;e.tableProps=function(){e.table(!0)},e.table=function(e){function t(){function l(e,t,n){if("TD"===e.tagName||"TH"===e.tagName)c.setStyle(e,t,n);else if(e.children)for(var o=0;o<e.children.length;o++)l(e.children[o],t,n)}var t;h(c,this),!1===(d=y.extend(d,this.toJSON())).class&&delete d.class,u.undoManager.transact(function(){if(o||(o=u.plugins.table.insertTable(d.cols||1,d.rows||1)),u.dom.setAttribs(o,{style:d.style,class:d.class}),u.settings.table_style_by_css){if((s=[]).push({name:"border",value:d.border}),s.push({name:"border-spacing",value:g(d.cellspacing)}),function(e,t,n){var o=e.parseStyle(e.getAttrib(t,"style"));w(n,function(e){o[e.name]=e.value}),e.setAttrib(t,"style",e.serializeStyle(e.parseStyle(e.serializeStyle(o))))}(c,o,s),c.setAttribs(o,{"data-mce-border-color":d.borderColor,"data-mce-cell-padding":d.cellpadding,"data-mce-border":d.border}),o.children)for(var e=0;e<o.children.length;e++)l(o.children[e],"border",d.border),l(o.children[e],"padding",g(d.cellpadding))}else u.dom.setAttribs(o,{border:d.border,cellpadding:d.cellpadding,cellspacing:d.cellspacing});c.getAttrib(o,"width")&&!u.settings.table_style_by_css?c.setAttrib(o,"width",f(d.width)):c.setStyle(o,"width",g(d.width)),c.setStyle(o,"height",g(d.height)),(t=c.select("caption",o)[0])&&!d.caption&&c.remove(t),!t&&d.caption&&((t=c.create("caption")).innerHTML=x.ie?" ":'<br data-mce-bogus="1"/>',o.insertBefore(t,o.firstChild)),p(o),d.align&&u.formatter.apply("align"+d.align,{},o),u.focus(),u.addVisual()})}function n(e,l){var t;return function(e,t){for(var n=0;n<t.length;n++){var o=c.getStyle(t[n],l);if(void 0===e&&(e=o),e!=o)return""}return e}(t,u.dom.select("td,th",e))}var o,l,a,r,i,s,c=u.dom,d={};!0===e?(o=c.getParent(u.selection.getStart(),"table"))&&(d={width:f(c.getStyle(o,"width")||c.getAttrib(o,"width")),height:f(c.getStyle(o,"height")||c.getAttrib(o,"height")),cellspacing:f(c.getStyle(o,"border-spacing")||c.getAttrib(o,"cellspacing")),cellpadding:c.getAttrib(o,"data-mce-cell-padding")||c.getAttrib(o,"cellpadding")||n(o,"padding"),border:c.getAttrib(o,"data-mce-border")||c.getAttrib(o,"border")||n(o,"border"),borderColor:c.getAttrib(o,"data-mce-border-color"),caption:!!c.select("caption",o)[0],class:c.getAttrib(o,"class")},w("left center right".split(" "),function(e){u.formatter.matchNode(o,"align"+e)&&(d.align=e)})):(l={label:"Cols",name:"cols"},a={label:"Rows",name:"rows"}),u.settings.table_class_list&&(d.class&&(d.class=d.class.replace(/\s*mce\-item\-table\s*/g,"")),r={name:"class",type:"listbox",label:"Class",values:b(u.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return u.formatter.getCssText({block:"table",classes:[e.value]})})})}),!(i={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==u.settings.table_appearance_options?[l,a,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[l,a,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},r]})!==u.settings.table_advtab?(v(c,d,o),u.windowManager.open({title:"Table properties",data:d,bodyType:"tabpanel",body:[{title:"General",type:"form",items:i},m(c)],onsubmit:t})):u.windowManager.open({title:"Table properties",data:d,body:i,onsubmit:t})},e.merge=function(t,n){u.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var e=this.toJSON();u.undoManager.transact(function(){t.merge(n,e.cols,e.rows)})}})},e.cell=function(){function e(){h(l,this),n=y.extend(n,this.toJSON()),u.undoManager.transact(function(){w(a,function(e){u.dom.setAttribs(e,{scope:n.scope,style:n.style,class:n.class}),u.dom.setStyles(e,{width:g(n.width),height:g(n.height)}),n.type&&e.nodeName.toLowerCase()!=n.type&&(e=l.rename(e,n.type)),p(e),n.align&&u.formatter.apply("align"+n.align,{},e),function(t){w("top middle bottom".split(" "),function(e){u.formatter.remove("valign"+e,{},t)})}(e),n.valign&&u.formatter.apply("valign"+n.valign,{},e)}),u.focus()})}var t,n,o,l=u.dom,a=[];if(a=u.dom.select("td.mce-item-selected,th.mce-item-selected"),t=u.dom.getParent(u.selection.getStart(),"td,th"),!a.length&&t&&a.push(t),t=t||a[0]){(n={width:f(l.getStyle(t,"width")||l.getAttrib(t,"width")),height:f(l.getStyle(t,"height")||l.getAttrib(t,"height")),scope:l.getAttrib(t,"scope"),class:l.getAttrib(t,"class")}).type=t.nodeName.toLowerCase(),w("left center right".split(" "),function(e){u.formatter.matchNode(t,"align"+e)&&(n.align=e)}),w("top middle bottom".split(" "),function(e){u.formatter.matchNode(t,"valign"+e)&&(n.valign=e)}),u.settings.table_cell_class_list&&(o={name:"class",type:"listbox",label:"Class",values:b(u.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return u.formatter.getCssText({block:"td",classes:[e.value]})})})});var r={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},o]};!1!==u.settings.table_cell_advtab?(v(l,n,t),u.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:n,body:[{title:"General",type:"form",items:r},m(l)],onsubmit:e})):u.windowManager.open({title:"Cell properties",data:n,body:r,onsubmit:e})}},e.row=function(){function e(){var n,o,l;h(i,this),a=y.extend(a,this.toJSON()),u.undoManager.transact(function(){var t=a.type;w(s,function(e){u.dom.setAttribs(e,{scope:a.scope,style:a.style,class:a.class}),u.dom.setStyles(e,{height:g(a.height)}),t!=e.parentNode.nodeName.toLowerCase()&&(n=i.getParent(e,"table"),o=e.parentNode,(l=i.select(t,n)[0])||(l=i.create(t),n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),l.appendChild(e),o.hasChildNodes()||i.remove(o)),p(e),a.align&&u.formatter.apply("align"+a.align,{},e)}),u.focus()})}var t,n,o,l,a,r,i=u.dom,s=[];t=u.dom.getParent(u.selection.getStart(),"table"),n=u.dom.getParent(u.selection.getStart(),"td,th"),w(t.rows,function(t){w(t.cells,function(e){return i.hasClass(e,"mce-item-selected")||e==n?(s.push(t),!1):void 0})}),(o=s[0])&&((a={height:f(i.getStyle(o,"height")||i.getAttrib(o,"height")),scope:i.getAttrib(o,"scope"),class:i.getAttrib(o,"class")}).type=o.parentNode.nodeName.toLowerCase(),w("left center right".split(" "),function(e){u.formatter.matchNode(o,"align"+e)&&(a.align=e)}),u.settings.table_row_class_list&&(l={name:"class",type:"listbox",label:"Class",values:b(u.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return u.formatter.getCssText({block:"tr",classes:[e.value]})})})}),!(r={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},l]})!==u.settings.table_row_advtab?(v(i,a,o),u.windowManager.open({title:"Row properties",data:a,bodyType:"tabpanel",body:[{title:"General",type:"form",items:r},m(i)],onsubmit:e})):u.windowManager.open({title:"Row properties",data:a,body:r,onsubmit:e}))}}}),e("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(u,m,f,g,e,t,p,n){var b=e.each;n.add("table",function(d){function e(e){return function(){d.execCommand(e)}}function n(e,t){var n,o,l,a;for(l='<table id="__mce"><tbody>',n=0;n<t;n++){for(l+="<tr>",o=0;o<e;o++)l+="<td>"+(p.ie?" ":"<br>")+"</td>";l+="</tr>"}return l+="</tbody></table>",d.undoManager.transact(function(){d.insertContent(l),a=d.dom.get("__mce"),d.dom.setAttrib(a,"id",null),d.dom.setAttribs(a,d.settings.table_default_attributes||{}),d.dom.setStyles(a,d.settings.table_default_styles||{})}),a}function t(t,e){function n(){t.disabled(!d.dom.getParent(d.selection.getStart(),e)),d.selection.selectorChanged(e,function(e){t.disabled(!e)})}d.initialized?n():d.on("init",n)}function o(){t(this,"table")}function l(){t(this,"td,th")}function a(e,t,n){var o,l,a,r,i,s=n.getEl().getElementsByTagName("table")[0],c=n.isRtl()||"tl-tr"==n.parent().rel;for(s.nextSibling.innerHTML=e+1+" x "+(t+1),c&&(e=9-e),l=0;l<10;l++)for(o=0;o<10;o++)r=s.rows[l].childNodes[o].firstChild,i=(c?e<=o:o<=e)&&l<=t,d.dom.toggleClass(r,"mce-active",i),i&&(a=r);return a.parentNode}var r,i=this,s=new g(d);!1===d.settings.table_grid?d.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",onclick:s.table}):d.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),s.table())},onshow:function(){a(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");d.dom.removeClass(e,"mce-active"),d.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return(e+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,o=e.target;"A"==o.tagName.toUpperCase()&&(t=parseInt(o.getAttribute("data-mce-x"),10),n=parseInt(o.getAttribute("data-mce-y"),10),!this.isRtl()&&"tl-tr"!=this.parent().rel||(t=9-t),t===this.lastX&&n===this.lastY||(a(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),d.undoManager.transact(function(){n(t.lastX+1,t.lastY+1)}),d.addVisual())}}]}),d.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:o,onclick:s.tableProps}),d.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:o,cmd:"mceTableDelete"}),d.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:e("mceTableCellProps"),onPostRender:l},{text:"Merge cells",onclick:e("mceTableMergeCells"),onPostRender:l},{text:"Split cell",onclick:e("mceTableSplitCells"),onPostRender:l}]}),d.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:e("mceTableInsertRowBefore"),onPostRender:l},{text:"Insert row after",onclick:e("mceTableInsertRowAfter"),onPostRender:l},{text:"Delete row",onclick:e("mceTableDeleteRow"),onPostRender:l},{text:"Row properties",onclick:e("mceTableRowProps"),onPostRender:l},{text:"-"},{text:"Cut row",onclick:e("mceTableCutRow"),onPostRender:l},{text:"Copy row",onclick:e("mceTableCopyRow"),onPostRender:l},{text:"Paste row before",onclick:e("mceTablePasteRowBefore"),onPostRender:l},{text:"Paste row after",onclick:e("mceTablePasteRowAfter"),onPostRender:l}]}),d.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:e("mceTableInsertColBefore"),onPostRender:l},{text:"Insert column after",onclick:e("mceTableInsertColAfter"),onPostRender:l},{text:"Delete column",onclick:e("mceTableDeleteCol"),onPostRender:l}]});var c=[];b("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"==e?c.push({text:"-"}):c.push(d.menuItems[e])}),d.addButton("table",{type:"menubutton",title:"Table",menu:c}),p.isIE||d.on("click",function(e){"TABLE"===(e=e.target).nodeName&&(d.selection.select(e),d.nodeChanged())}),i.quirks=new m(d),d.on("Init",function(){i.cellSelection=new f(d)}),d.on("PreInit",function(){d.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})}),b({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=d.dom.getParent(d.selection.getStart(),"th,td"),d.dom.select("td.mce-item-selected,th.mce-item-selected").length?e.merge():s.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRow(!0)},mceTableInsertRowAfter:function(e){e.insertRow()},mceTableInsertColBefore:function(e){e.insertCol(!0)},mceTableInsertColAfter:function(e){e.insertCol()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){r=e.cutRows()},mceTableCopyRow:function(e){r=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(r,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(r)},mceTableDelete:function(e){e.deleteTable()}},function(t,e){d.addCommand(e,function(){var e=new u(d);e&&(t(e),d.execCommand("mceRepaint"),i.cellSelection.clear())})}),b({mceInsertTable:s.table,mceTableProps:function(){s.table(!0)},mceTableRowProps:s.row,mceTableCellProps:s.cell},function(n,e){d.addCommand(e,function(e,t){n(t)})}),!1!==d.settings.table_tab_navigation&&d.on("keydown",function(e){var t,n,o;9!=e.keyCode||(t=d.dom.getParent(d.selection.getStart(),"th,td"))&&(e.preventDefault(),n=new u(d),o=e.shiftKey?-1:1,d.undoManager.transact(function(){!n.moveRelIdx(t,o)&&0<o&&(n.insertRow(),n.refresh(),n.moveRelIdx(t,o))}))}),i.insertTable=n})})}(this);