tinymce.PluginManager.add("autoresize",function(f){function c(e){var t,i,o,n,a,s,r,g,m,l,d,u,h=tinymce.DOM;if(i=f.getDoc()){if(o=i.body,n=i.documentElement,a=y.autoresize_min_height,!o||e&&"setcontent"===e.type&&e.initial||f.plugins.fullscreen&&f.plugins.fullscreen.isFullscreen())return void(o&&n&&(o.style.overflowY="auto",n.style.overflowY="auto"));r=f.dom.getStyle(o,"margin-top",!0),g=f.dom.getStyle(o,"margin-bottom",!0),m=f.dom.getStyle(o,"padding-top",!0),l=f.dom.getStyle(o,"padding-bottom",!0),d=f.dom.getStyle(o,"border-top-width",!0),u=f.dom.getStyle(o,"border-bottom-width",!0),s=o.offsetHeight+parseInt(r,10)+parseInt(g,10)+parseInt(m,10)+parseInt(l,10)+parseInt(d,10)+parseInt(u,10),(isNaN(s)||s<=0)&&(s=tinymce.Env.ie?o.scrollHeight:tinymce.Env.webkit&&0===o.clientHeight?0:o.offsetHeight),s>y.autoresize_min_height&&(a=s),y.autoresize_max_height&&s>y.autoresize_max_height?(a=y.autoresize_max_height,o.style.overflowY="auto",n.style.overflowY="auto"):(o.style.overflowY="hidden",n.style.overflowY="hidden",o.scrollTop=0),a!==_&&(t=a-_,h.setStyle(f.iframeElement,"height",a+"px"),_=a,tinymce.isWebKit&&t<0&&c(e))}}function o(e,t,i){setTimeout(function(){c({}),e--?o(e,t,i):i&&i()},t)}var y=f.settings,_=0;f.settings.inline||(y.autoresize_min_height=parseInt(f.getParam("autoresize_min_height",f.getElement().offsetHeight),10),y.autoresize_max_height=parseInt(f.getParam("autoresize_max_height",0),10),f.on("init",function(){var e,t;e=f.getParam("autoresize_overflow_padding",1),t=f.getParam("autoresize_bottom_margin",50),!1!==e&&f.dom.setStyles(f.getBody(),{paddingLeft:e,paddingRight:e}),!1!==t&&f.dom.setStyles(f.getBody(),{paddingBottom:t})}),f.on("nodechange setcontent keyup FullscreenStateChanged",c),f.getParam("autoresize_on_init",!0)&&f.on("init",function(){o(20,100,function(){o(5,1e3)})}),f.addCommand("mceAutoResize",c))});