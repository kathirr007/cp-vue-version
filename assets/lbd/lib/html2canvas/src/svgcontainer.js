function SVGContainer(e){this.src=e,this.image=null;var t=this;this.promise=this.hasFabric().then(function(){return t.isInline(e)?Promise.resolve(t.inlineFormatting(e)):XHR(e)}).then(function(n){return new Promise(function(e){html2canvas.fabric.loadSVGFromString(n,t.createCanvas.call(t,e))})})}function decode64(e){var n,t,r,i,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=e.length,d="";for(n=0;n<l;n+=4)o=c.indexOf(e[n])<<2|(t=c.indexOf(e[n+1]))>>4,a=(15&t)<<4|(r=c.indexOf(e[n+2]))>>2,s=(3&r)<<6|(i=c.indexOf(e[n+3])),d+=64===r?String.fromCharCode(o):64===i||-1===i?String.fromCharCode(o,a):String.fromCharCode(o,a,s);return d}SVGContainer.prototype.hasFabric=function(){return html2canvas.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},SVGContainer.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},SVGContainer.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},SVGContainer.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},SVGContainer.prototype.createCanvas=function(r){var i=this;return function(e,n){var t=new html2canvas.fabric.StaticCanvas("c");i.image=t.lowerCanvasEl,t.setWidth(n.width).setHeight(n.height).add(html2canvas.fabric.util.groupSVGElements(e,n)).renderAll(),r(t.lowerCanvasEl)}},SVGContainer.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):decode64(e)};