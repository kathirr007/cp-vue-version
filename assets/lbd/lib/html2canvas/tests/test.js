var h2cSelector,h2cOptions;!function(s,l){function e(e){s.write('<script type="text/javascript" src="'+e+".js?"+Math.random()+'"><\/script>')}["/tests/assets/jquery-1.6.2"].concat("?selenium"===l.location.search?["/dist/html2canvas"]:["log","punycode/punycode","core","nodecontainer","pseudoelementcontainer","stackingcontext","textcontainer","support","imagecontainer","dummyimagecontainer","proxyimagecontainer","gradientcontainer","lineargradientcontainer","webkitgradientcontainer","svgcontainer","svgnodecontainer","imageloader","nodeparser","font","fontmetrics","renderer","promise","xhr","framecontainer","proxy","color","renderers/canvas"].map(function(e){return"/src/"+e})).forEach(e),"undefined"==typeof noFabric&&e("/dist/html2canvas.svg"),l.onload=function(){var r;(r=jQuery).fn.html2canvas=function(t){t&&t.profile&&l.console&&l.console.profile&&"?selenium2"!==l.location.search&&l.console.profile();var e=new Date,o=null,i=!1,a=e.getTime();t=t||{};var n=html2canvas(this,t);function c(e,n){l.clearTimeout(i),i=l.setTimeout(function(){o.fadeOut(function(){o.remove(),o=null})},n||2e3),o&&o.remove(),o=r("<div />").html(e).css({margin:0,padding:10,background:"#000",opacity:.7,position:"fixed",top:10,right:10,fontFamily:"Tahoma",color:"#fff",fontSize:12,borderRadius:12,width:"auto",height:"auto",textAlign:"center",textDecoration:"none",display:"none"}).appendTo(s.body).fadeIn(),log(e)}n.catch(function(e){console.log("html2canvas threw an error",e)}),n.then(function(e){var n=r(e),o=new Date;t&&t.profile&&l.console&&l.console.profileEnd&&l.console.profileEnd(),n.addClass("html2canvas").css({position:"absolute",left:0,top:0}).appendTo(s.body),"?selenium"!==l.location.search?(n.siblings().toggle(),r(l).click(function(){n.toggle().siblings().toggle(),r(s.documentElement).css("background",n.is(":visible")?"none":""),r(s.body).css("background",n.is(":visible")?"none":""),c("Canvas Render "+(n.is(":visible")?"visible":"hidden"))}),r(s.documentElement).css("background",n.is(":visible")?"none":""),r(s.body).css("background",n.is(":visible")?"none":""),c("Screenshot created in "+(o.getTime()-a)+" ms<br />",4e3)):n.css("display","none");try{n[0].toDataURL()}catch(e){"canvas"===n[0].nodeName.toLowerCase()&&l.alert("Canvas is tainted, unable to read data")}})},h2cSelector=[s.documentElement],l.setUp&&l.setUp(),l.run=function(){$(h2cSelector).html2canvas($.extend({logging:!0,profile:!0,proxy:"http://localhost:8082",useCORS:!1,removeContainer:!1},h2cOptions))},"undefined"==typeof dontRun&&setTimeout(l.run,100)}}(document,window);