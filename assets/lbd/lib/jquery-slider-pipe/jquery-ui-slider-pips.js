!function(v){"use strict";var e={pips:function(e){var d,i,l,s,t,u=this,a="",f=u._valueMin(),c=(u._valueMax()-f)/u.options.step,n=u.element.find(".ui-slider-handle"),h={first:"label",last:"label",rest:"pip",labels:!1,prefix:"",suffix:"",step:100<c?Math.floor(.05*c):1,formatLabel:function(e){return this.prefix+e+this.suffix}};if("object"===v.type(e)||"undefined"===v.type(e)){v.extend(h,e),u.element.data("pips-options",h),u.options.pipStep=Math.abs(Math.round(h.step))||1,u.element.off(".selectPip").addClass("ui-slider-pips").find(".ui-slider-pip").remove();var r={single:function(s){this.resetClasses(),t.filter(".ui-slider-pip-"+this.classLabel(s)).addClass("ui-slider-pip-selected"),u.options.range&&t.each(function(e,i){var l=v(i).children(".ui-slider-label").data("value");("min"===u.options.range&&l<s||"max"===u.options.range&&s<l)&&v(i).addClass("ui-slider-pip-inrange")})},range:function(s){for(this.resetClasses(),d=0;d<s.length;d++)t.filter(".ui-slider-pip-"+this.classLabel(s[d])).addClass("ui-slider-pip-selected-"+(d+1));u.options.range&&t.each(function(e,i){var l=v(i).children(".ui-slider-label").data("value");l>s[0]&&l<s[1]&&v(i).addClass("ui-slider-pip-inrange")})},classLabel:function(e){return e.toString().replace(".","-")},resetClasses:function(){var l=/(^|\s*)(ui-slider-pip-selected|ui-slider-pip-inrange)(-{1,2}\d+|\s|$)/gi;t.removeClass(function(e,i){return(i.match(l)||[]).join(" ")})}};for(a+=o("first"),l=u.options.pipStep;l<c;l+=u.options.pipStep)a+=o(l);for(a+=o("last"),u.element.append(a),t=u.element.find(".ui-slider-pip"),s=v._data(u.element.get(0),"events").mousedown&&v._data(u.element.get(0),"events").mousedown.length?v._data(u.element.get(0),"events").mousedown:u.element.data("mousedown-handlers"),u.element.data("mousedown-handlers",s.slice()),i=0;i<s.length;i++)"slider"===s[i].namespace&&u.element.data("mousedown-original",s[i].handler);u.element.off("mousedown.slider").on("mousedown.selectPip",function(e){var i=v(e.target),l=p(i.data("value")),s=n.eq(l);(s.addClass("ui-state-active"),i.is(".ui-slider-label"))?(function(e,i){if(!u.option("disabled")){var l=v(e).data("value"),s=p(l);u.values()&&u.values().length?u.options.values[s]=u._trimAlignValue(l):u.options.value=u._trimAlignValue(l),u._refreshValue(),u._change(i,s)}}(i,e),u.element.one("mouseup.selectPip",function(){s.removeClass("ui-state-active").focus()})):u.element.data("mousedown-original")(e)}),u.element.on("slide.selectPip slidechange.selectPip",function(e,i){var l=v(this),s=l.slider("value"),t=l.slider("values");i&&(s=i.value,t=i.values),u.values()&&u.values().length?r.range(t):r.single(s)})}else"destroy"===e?u.element.off(".selectPip").on("mousedown.slider",u.element.data("mousedown-original")).removeClass("ui-slider-pips").find(".ui-slider-pip").remove():"refresh"===e&&u.element.slider("pips",u.element.data("pips-options"));function p(i){var e,l,s,t,a,n=[],r=0;if(u.values()&&u.values().length){for(s=u.values(),t=v.map(s,function(e){return Math.abs(e-i)}),a=Math.min.apply(Math,t),e=0;e<t.length;e++)t[e]===a&&n.push(e);for(r=n[0],l=0;l<n.length;l++)u._lastChangedValue===n[l]&&(r=n[l]);u.options.range&&2===n.length&&(i>s[1]?r=n[1]:i<s[0]&&(r=n[0]))}return r}function o(e){var i,l,s,t,a,n=e,r="ui-slider-pip",p=u.value(),o=u.values();if("first"===e?n=0:"last"===e&&(n=c),t=(s=f+u.options.step*n).toString().replace(".","-"),a=n+f-f,i="array"===v.type(h.labels)?h.labels[a]||"":"object"===v.type(h.labels)?"first"===e?h.labels.first||"":"last"===e?h.labels.last||"":"array"===v.type(h.labels.rest)?h.labels.rest[a-1]||"":s:s,"first"===e?(l="0%",r+=" ui-slider-pip-first",r+="label"===h.first?" ui-slider-pip-label":"",r+=!1===h.first?" ui-slider-pip-hide":""):"last"===e?(l="100%",r+=" ui-slider-pip-last",r+="label"===h.last?" ui-slider-pip-label":"",r+=!1===h.last?" ui-slider-pip-hide":""):(l=(100/c*e).toFixed(4)+"%",r+="label"===h.rest?" ui-slider-pip-label":"",r+=!1===h.rest?" ui-slider-pip-hide":""),r+=" ui-slider-pip-"+t,o&&o.length){for(d=0;d<o.length;d++)s===o[d]&&(r+=" ui-slider-pip-initial-"+(d+1),r+=" ui-slider-pip-selected-"+(d+1));u.options.range&&s>o[0]&&s<o[1]&&(r+=" ui-slider-pip-inrange")}else s===p&&(r+=" ui-slider-pip-initial",r+=" ui-slider-pip-selected"),u.options.range&&("min"===u.options.range&&s<p||"max"===u.options.range&&p<s)&&(r+=" ui-slider-pip-inrange");return'<span class="'+r+'" style="'+("horizontal"===u.options.orientation?"left: "+l:"bottom: "+l)+'"><span class="ui-slider-line"></span><span class="ui-slider-label" data-value="'+s+'">'+h.formatLabel(i)+"</span></span>"}},float:function(e){var s,t=this,a=t._valueMin(),n=t._valueMax(),i=t._value(),l=t._values(),r=[],p=t.element.find(".ui-slider-handle"),o={handle:!0,pips:!1,labels:!1,prefix:"",suffix:"",event:"slidechange slide",formatLabel:function(e){return this.prefix+e+this.suffix}};if("object"===v.type(e)||"undefined"===v.type(e)){if(v.extend(o,e),t.element.data("float-options",o),i<a&&(i=a),n<i&&(i=n),l&&l.length)for(s=0;s<l.length;s++)l[s]<a&&(l[s]=a),l[s]>n&&(l[s]=n);if(t.element.addClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove(),o.handle)for(r=t.values()&&t.values().length?d(l):d([i]),s=0;s<r.length;s++)p.eq(s).append(v('<span class="ui-slider-tip">'+o.formatLabel(r[s])+"</span>"));o.pips&&t.element.find(".ui-slider-label").each(function(e,i){var l,s=v(i),t=[s.data("value")];l=o.formatLabel(d(t)[0]),v('<span class="ui-slider-tip-label">'+l+"</span>").insertAfter(s)}),"slide"!==o.event&&"slidechange"!==o.event&&"slide slidechange"!==o.event&&"slidechange slide"!==o.event&&(o.event="slidechange slide"),t.element.off(".sliderFloat").on(o.event+".sliderFloat",function(e,i){var l="array"===v.type(i.value)?i.value:[i.value],s=o.formatLabel(d(l)[0]);v(i.handle).find(".ui-slider-tip").html(s)})}else"destroy"===e?t.element.off(".sliderFloat").removeClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove():"refresh"===e&&t.element.slider("float",t.element.data("float-options"));function d(e){var i=[],l=v.map(e,function(e){return Math.ceil((e-a)/t.options.step)});if("array"===v.type(o.labels))for(s=0;s<e.length;s++)i[s]=o.labels[l[s]]||e[s];else if("object"===v.type(o.labels))for(s=0;s<e.length;s++)e[s]===a?i[s]=o.labels.first||a:e[s]===n?i[s]=o.labels.last||n:"array"===v.type(o.labels.rest)?i[s]=o.labels.rest[l[s]-1]||e[s]:i[s]=e[s];else for(s=0;s<e.length;s++)i[s]=e[s];return i}}};v.extend(!0,v.ui.slider.prototype,e)}(jQuery);